Version 4
SHEET 1 1608 680
WIRE 608 -336 -128 -336
WIRE 752 -336 608 -336
WIRE 784 -336 752 -336
WIRE 800 -336 784 -336
WIRE 928 -336 896 -336
WIRE 752 -304 752 -336
WIRE 880 -288 816 -288
WIRE 688 -256 608 -256
WIRE 784 -208 784 -256
WIRE 784 -208 752 -208
WIRE 880 -208 784 -208
WIRE 608 -144 608 -256
WIRE 880 -144 608 -144
WIRE 880 0 880 -144
WIRE -128 48 -128 -336
WIRE -16 48 -128 48
WIRE 96 48 -16 48
WIRE 160 48 96 48
WIRE 192 48 160 48
WIRE 336 48 288 48
WIRE 416 48 336 48
WIRE 736 48 416 48
WIRE 96 80 96 48
WIRE 240 128 240 112
WIRE 240 128 160 128
WIRE 240 144 240 128
WIRE 96 176 96 144
WIRE 240 240 240 224
WIRE 96 288 96 256
WIRE 96 288 32 288
WIRE 176 288 96 288
WIRE -256 336 -304 336
WIRE -128 336 -256 336
WIRE -112 336 -128 336
WIRE 176 464 176 288
WIRE 336 464 336 48
WIRE 336 464 256 464
FLAG -128 208 0
FLAG 1008 -336 0
FLAG 240 336 0
FLAG -16 48 vin
FLAG 416 128 0
FLAG 96 368 0
FLAG 32 384 0
FLAG -256 416 0
FLAG -128 416 0
FLAG -304 336 disable
FLAG 880 96 0
SYMBOL zener 112 144 R180
WINDOW 0 59 51 Left 2
WINDOW 3 56 22 Left 2
SYMATTR InstName D1
SYMATTR Value BZX84C15L
SYMBOL voltage -128 32 R0
WINDOW 3 -393 76 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -388 43 Left 2
SYMATTR Value PULSE(0 20 0 .5E-2 .5E-2 .1E-2)
SYMATTR InstName V1
SYMBOL npn 176 240 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL pnp 288 112 M270
WINDOW 0 133 103 VLeft 2
WINDOW 3 97 105 VLeft 2
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL res 224 128 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 80 272 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 80 160 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 272 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 150k
SYMBOL voltage -128 112 R0
WINDOW 3 -225 72 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -223 41 Left 2
SYMATTR Value SINE(0 1 10000)
SYMATTR InstName V2
SYMBOL res 144 32 R0
SYMATTR InstName R3
SYMATTR Value 150k
SYMBOL pmos 896 -288 M270
WINDOW 0 122 56 VLeft 2
WINDOW 3 91 137 VLeft 2
SYMATTR InstName Q5
SYMATTR Value HAT1072H
SYMBOL res 912 -320 R270
WINDOW 0 78 74 VTop 2
WINDOW 3 46 43 VTop 2
SYMATTR InstName RLOAD
SYMATTR Value 4
SYMBOL npn 816 0 R0
WINDOW 0 64 32 Left 2
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL res 400 32 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL npn -32 288 R0
WINDOW 0 10 117 Left 2
WINDOW 3 11 149 Left 2
SYMATTR InstName Q6
SYMATTR Value 2N2222
SYMBOL res -16 320 R90
WINDOW 0 68 54 VBottom 2
WINDOW 3 72 49 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL voltage -256 320 R0
WINDOW 3 -66 80 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -87 53 Left 2
SYMATTR Value 0
SYMATTR InstName V3
SYMBOL res -144 320 R0
WINDOW 0 -56 41 Left 2
WINDOW 3 -56 70 Left 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 832 32 R90
WINDOW 0 -45 55 VBottom 2
WINDOW 3 -35 55 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 592 -352 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 768 -352 R0
WINDOW 0 34 90 Left 2
WINDOW 3 36 122 Left 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL npn 688 -304 R0
WINDOW 0 -16 102 Left 2
WINDOW 3 -13 136 Left 2
SYMATTR InstName Q4
SYMATTR Value 2N2222
SYMBOL res 864 -304 R0
SYMATTR InstName R10
SYMATTR Value 33
SYMBOL LED 864 -208 R0
WINDOW 0 100 24 Left 2
WINDOW 3 98 53 Left 2
SYMATTR InstName D2
SYMATTR Value AOT-2015
TEXT 560 376 Left 2 !.tran 0 12E-3 0
TEXT 192 520 Left 2 ;hysteresis\nimplement as 100k R + 100k potentiometer
TEXT 560 288 Left 2 ;Feb 2019\nCharl Linssen <charl@itfromb.it>
